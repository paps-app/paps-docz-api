---
order: 4
name: Cr√©ation de t√¢che
title: Cr√©er une t√¢che avec Paps API
---

# Cr√©er une t√¢che avec Paps API

Il existe diff√©rents types de t√¢ches peuvent √™tre cr√©√©es √† travers l'API en fonction de votre flux de travail. Vous pouvez effectuer 3 types de requ√™tes pour cr√©er une t√¢che:

- Cr√©ation de t√¢che de ramassage (`createPickup`)
- Cr√©ation de t√¢che de livraison (`createDelivery`)
- Cr√©ation de t√¢ches multiples (`createMultipleTasks`)
- Cr√©ation de t√¢ches multiples (`createPickupAndDelivery`)

> Toute cr√©ation de t√¢che doit √™tre faite avec un argument de type query `apiKey` que vous pouvez
> obtenir [ici](/#commencez-√†-utiliser-paps-api) sur la page d'acceil. Exemple:

`POST https://api.paps.sn/api/v1/<method>?apiKey=59a242vv8830z22zee983930129892b&getId=2231233`

## Cr√©er une t√¢che de ramassage

- M√©thode: **`POST /api/v1/createPickup`**

Cette m√©thode est utilis√©e pour cr√©er une t√¢che de ramassage. Une t√¢che de ramassage d√©signe une course o√π le colis doit √™tre pris. Le tableau ci-dessous r√©capitule les param√®tres obligatoires √† accompagner avec la requ√™te de cr√©ation de t√¢ches de ramassage:

> **Important**: A moins qu‚Äôil ait √©t√© pr√©cis√© optionnel
> dans la requ√™te, tous les param√®tres mentionn√©s ci-dessous sont
> obligatoires dans leur requ√™te respective

| Param√®tre                    | Type                                                          | Description                                                                            |
| ---------------------------- | ------------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| `jobPickupName`              | String                                                        | Nom du contact chez qui le ramassage doit √™tre effectu√©                                |
| `jobPickupPhone`             | [PhoneNumber](/#types-et-formats-des-donnees)                 | Num√©ro de t√©l√©phone du contact de la personne chez qui le ramassage doit √™tre effectu√© |
| `jobPickupAddress`           | [Geoplace](/#types-et-formats-des-donnees)                    | Adresse du contact chez qui le ramassage doit √™tre effectu√©                            |
| `jobPickupDatetime`          | [Datetime](/#types-et-formats-des-donnees)                    | Heure/date √† laquelle la course doit √™tre prise en charge                              | ` |
| `jobDescription`             | String                                                        | Description de la commande pour une meilleure prise en charge                          |
| `jobVehicleType` (optionnel) | One of `"Scooter"` `|` `"Minivan"` `|` `"Van"` `|` `"Camion"` | Type de v√©hicule s√©lectionn√© pour effectuer le pickup                                  |

- Exemple de requ√™te

<p>
  <iframe
    src="//api.apiembed.com/?source=https://raw.githubusercontent.com/paps-app/request-api-exemple/master/PickupTask.json&targets=shell:curl,node:unirest,java:unirest,python:requests,ruby:native,objc:nsurlsession,go:native,java:okhttp,node:native,javascript:jquery,php:http1,csharp:restsharp"
    frameBorder="0"
    scrolling="no"
    width="100%"
    height="300px"
    seamless
  />
</p>

## Cr√©er une t√¢che de livraison

- M√©thode: **`POST /api/v1/createDelivery`**

Cette m√©thode est utilis√©e pour cr√©er une t√¢che de livraison. Une t√¢che de livraison d√©signe une course o√π le colis doit √™tre d√©pos√©. Elle est donc souvent pr√©c√©d√©e et li√©e √† une t√¢che de ramassage. Le tableau ci-dessous r√©capitule les param√®tres √† accompagner avec la requ√™te de cr√©ation de t√¢ches de livraison:

| Param√®tre                        | Type                                          | Description                                                                                                                                                                                                             |
| -------------------------------- | --------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `customerUsername`               | String                                        | Nom du contact chez qui la livraison doit √™tre effectu√©e                                                                                                                                                                |
| `customerPhone`                  | [PhoneNumber](/#types-et-formats-des-donnees) | Num√©ro de t√©l√©phone du contact de la personne chez qui la livraison doit √™tre effectu√©e                                                                                                                                 |
| `jobPickupPhone`                 | [PhoneNumber](/#types-et-formats-des-donnees) | Num√©ro de t√©l√©phone du contact de la personne chez qui le ramassage a √©t√© d√©j√† effectu√©                                                                                                                                 |
| `customerAddress`                | [Geoplace](/#types-et-formats-des-donnees)    | Adresse du contact chez qui la livraison doit √™tre effectu√©e                                                                                                                                                            |
| `jobDeliveryDatetime`            | [Datetime](/#types-et-formats-des-donnees)    | Heure/date √† laquelle la course doit √™tre prise en charge                                                                                                                                                               |
| `jobDescription`                 | String                                        | Description de la commande pour une meilleure prise en charge                                                                                                                                                           |
| `jobPackageType` (optionnel)     | One of `"S"` `|` `"M"` `|` `"L"` `|` `"XL"`   | Type de colis √† livrer: **S** correspond √† max 5kg et transportable en scooter, **M** √† max 30 kg et transportable en Mini Van, **L** √† max 60 kg et transportable en Van et **XL** √† max 100kg et transportable en Van |
| `jobAmountToReceive` (optionnel) | Number                                        | Montant (cash) √† collecter aupr√®s du destinataire du colis                                                                                                                                                              |

- Exemple de requ√™te

<p>
  <iframe
    src="//api.apiembed.com/?source=https://raw.githubusercontent.com/paps-app/request-api-exemple/master/DeliveryTask.json&targets=shell:curl,node:unirest,java:unirest,python:requests,ruby:native,objc:nsurlsession,go:native,java:okhttp,node:native,javascript:jquery,php:http1,csharp:restsharp"
    frameBorder="0"
    scrolling="no"
    width="100%"
    height="300px"
    seamless
  />
</p>

- Exemple de r√©ponse

```
{
  "payload": {
    "message": "The task has been created.",
    "status": 200,
    "data": {
      "job_id": 22726428,
      "job_hash": "26a453fdc6dd79eda5a0fb994a16614f",
      "customer_address": "Ouest Foire, Dakar, S√©n√©gal",
      "job_token": "2272642815403757852833068",
      "tracking_link": "https://k7ggd.app.goo.gl/SGP49G",
      "pickupAddressNotFound": false,
      "deliveryAddressNotFound": false
    }
  }
}
```

## Cr√©er une t√¢che de Pickup et Delivery li√©s

- M√©thode: **`POST /api/v1/createPickupAndDelivery`**

Cette m√©thode est utilis√©e pour cr√©er une t√¢che de ramassage. Une t√¢che de ramassage d√©signe une course o√π le colis doit √™tre pris. Le tableau ci-dessous r√©capitule les param√®tres obligatoires √† accompagner avec la requ√™te de cr√©ation de t√¢ches de ramassage:

> **Important**: A moins qu‚Äôil ait √©t√© pr√©cis√© optionnel
> dans la requ√™te, tous les param√®tres mentionn√©s ci-dessous sont
> obligatoires dans leur requ√™te respective

| Param√®tre                        | Type                                                          | Description                                                                                                                                                                                                             |
| -------------------------------- | ------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `jobPickupAddress`               | [Geoplace](/#types-et-formats-des-donnees)                    | Nom du contact chez qui le ramassage doit √™tre effectu√©                                                                                                                                                                 |
| `jobPickupPhone`                 | [PhoneNumber](/#types-et-formats-des-donnees)                 | Num√©ro de t√©l√©phone de l'expediteur                                                                                                                                                                                     |
| `customerPhone`                  | [PhoneNumber](/#types-et-formats-des-donnees)                 | Num√©ro de t√©l√©phone du destinataire                                                                                                                                                                                     |
| `jobPickupDatetime`              | [Datetime](/#types-et-formats-des-donnees)                    | Heure/date √† laquelle la course doit √™tre prise en charge                                                                                                                                                               |
| `jobDeliveryDatetime`            | [Datetime](/#types-et-formats-des-donnees)                    | Heure/date √† laquelle la course est termin√©e                                                                                                                                                                            |
| `customerAddress`                | [Geoplace](/#types-et-formats-des-donnees)                    | Adresse du destinataire                                                                                                                                                                                                 |
| `customerUsername`               | String                                                        | Nom du destinataire                                                                                                                                                                                                     |
| `jobVehicleType` (optionnel)     | One of `"Scooter"` `|` `"Minivan"` `|` `"Van"` `|` `"Camion"` | Type de v√©hicule s√©lectionn√© pour effectuer le pickup                                                                                                                                                                   |
| `jobPackageType` (optionnel)     | One of `"S"` `|` `"M"` `|` `"L"` `|` `"XL"`                   | Type de colis √† livrer: **S** correspond √† max 5kg et transportable en scooter, **M** √† max 30 kg et transportable en Mini Van, **L** √† max 60 kg et transportable en Van et **XL** √† max 100kg et transportable en Van |
| `jobAmountToReceive` (optionnel) | Number                                                        | Montant (cash) √† collecter aupr√®s du destinataire du colis                                                                                                                                                              |

- Exemple de requ√™te

<p>
  <iframe
    src="//api.apiembed.com/?source=https://raw.githubusercontent.com/paps-app/request-api-exemple/master/PickupDeliveryTask.json&targets=shell:curl,node:unirest,java:unirest,python:requests,ruby:native,objc:nsurlsession,go:native,java:okhttp,node:native,javascript:jquery,php:http1,csharp:restsharp"
    frameBorder="0"
    scrolling="no"
    width="100%"
    height="300px"
    seamless
  />
</p>

## Cr√©ation de t√¢ches multiples et li√©es

- M√©thode: **`POST /api/v1/createMultipleTasks`**

Celle-ci est la methode utilis√©e pour d√©marrer plusieurs courses li√©es. Les courses li√©es peuvent contenir non seulement plusieurs points ramassage et livraison mais peuvent √™tre programm√©es sur plusieurs jours. Les informations sur chaque course sont contenues dans un tableau d‚Äôobjet et sont envoy√©es en forme JSON.

| Param√®tre    | Type                                             | Description                                                                                   |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------------------------- |
| `pickups`    | Array of [Pickups Object](#pickups-object)       | Tableau d'objet de pickups. Chaque objet contient les informations d'un pickup (ramassage)    |
| `deliveries` | Array of [Deliveries Object](#deliveries-object) | Tableau d'objet de delivery. Chaque objet contient les informations d'un delivery (livraison) |

## Cr√©ation de t√¢ches avec suivi sur [Monespace](https://monespace.paps.sn/)

- M√©thode: **`POST /api/v1/createTasksWithClientApp`**

Vous pouvez utiliser cette m√©thode si vous souhaitez avoir le suivi de vos commandes en m√™me temps sur l'application web client [Monespace](https://monespace.paps.sn/). Vous devez donc pour cela sp√©cifier en argument l'adresse email du compte qui a acc√®s √† l'application. Les autres arguments √† fournir restent pareils que ceux de `createMultipleTasks` car ici non plus vous n'√™tes pas restreins par le nombre de pickups et delivery √† cr√©er, vous pouvez en cr√©er autant que vous le souhaitez üòâ.

| Param√®tre    | Type                                             | Description                                                                                   |
| ------------ | ------------------------------------------------ | --------------------------------------------------------------------------------------------- |
| `email`      | `String`                                         | Email du compte qui a acc√®s √† l'application client Monesapce                                  |
| `pickups`    | Array of [Pickups Object](#pickups-object)       | Tableau d'objet de pickups. Chaque objet contient les informations d'un pickup (ramassage)    |
| `deliveries` | Array of [Deliveries Object](#deliveries-object) | Tableau d'objet de delivery. Chaque objet contient les informations d'un delivery (livraison) |

### Exemple

<iframe
  src="https://gist.github.com/madiodio/4170f73199d594eb1c351b084ca5b636.pibb"
  frameborder="0"
  css="overflow:hidden;overflow-x:hidden;overflow-y:hidden;width:100%;"
  height="500px"
  width="100%"
  scrolling="auto"
></iframe>

### Pickups Object

Ceci est l'objet retran√ßant toutes les informations que doit contenir un `objet pickup`.

| Param√®tre         | Type                                          | Description                                                   |
| ----------------- | --------------------------------------------- | ------------------------------------------------------------- |
| `address`         | [Geoplace](/#types-et-formats-des-donnees)    | Adresse du pickup                                             |
| `time`            | [Datetime](/#types-et-formats-des-donnees)    | Date et heure √† laquelle le pickup doit √™tre fait             |
| `phone`           | [PhoneNumber](/#types-et-formats-des-donnees) | Num√©ro de t√©l√©phone de la personne √† contacter pour le pickup |
| `name`            | `String`                                      | Nom du contact chez qui le pickup doit √™tre effectu√©          |
| `job_description` | `String`                                      | Description du colis √† ramasser                               |
| `email`           | `String`                                      | Email de la personne pour le pickup                           |

<iframe
  src="//api.apiembed.com/?source=https://raw.githubusercontent.com/paps-app/request-api-exemple/master/MultipleTasks.json&targets=shell:curl,node:unirest,java:unirest,python:requests,ruby:native,objc:nsurlsession,go:native,java:okhttp,node:native,javascript:jquery,php:http1,csharp:restsharp"
  frameBorder="0"
  scrolling="no"
  width="100%"
  height="300px"
  seamless
/>

### Deliveries Object

Ceci est l'objet retran√ßant toutes les informations que doit contenir un `objet deliveries`.

| Param√®tre         | Type                                          | Description                                                     |
| ----------------- | --------------------------------------------- | --------------------------------------------------------------- |
| `address`         | [Geoplace](/#types-et-formats-des-donnees)    | Adresse du delivery                                             |
| `time`            | [Datetime](/#types-et-formats-des-donnees)    | Date et heure √† laquelle le delivery doit √™tre fait             |
| `phone`           | [PhoneNumber](/#types-et-formats-des-donnees) | Num√©ro de t√©l√©phone de la personne √† contacter pour le delivery |
| `name`            | `String`                                      | Nom du contact chez qui le delivery doit √™tre effectu√©          |
| `job_description` | `String`                                      | Description du colis √† ramasser                                 |
| `email`           | `String`                                      | Email de la personne pour le delivery                           |

<iframe
  src="//api.apiembed.com/?source=https://raw.githubusercontent.com/paps-app/request-api-exemple/master/MultipleTasks.json&targets=shell:curl,node:unirest,java:unirest,python:requests,ruby:native,objc:nsurlsession,go:native,java:okhttp,node:native,javascript:jquery,php:http1,csharp:restsharp"
  frameBorder="0"
  scrolling="no"
  width="100%"
  height="300px"
  seamless
/>
